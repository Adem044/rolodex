(this.webpackJsonprolodex=this.webpackJsonprolodex||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),o=n(19),r=n.n(o),i=(n(32),n(20)),l=n(25),d=n(13),u=n(21),h=n(22),j=n(26),f=n(24),m=n(8),b=n(2),v=n(10),O=(n(33),n(34),function(e){var t=e.deleteHandler,n=e.mode,c=Object(a.useContext)(F),o="light"===n?"notifications":"notifications dark-notifications";return Object(s.jsxs)("div",{className:o,hidden:!c.showDrop,children:[Object(s.jsxs)("h4",{children:["Notifications ",Object(s.jsx)("span",{children:c.added.length}),Object(s.jsx)("span",{className:"delete-all",onClick:t,children:"X"})]}),c.added.map((function(e,t){return Object(s.jsxs)("div",{className:"notif",style:{backgroundColor:"removed"===e.type?"tomato":"rgba(179, 202, 145, 0.787)"},children:[Object(s.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(e.id,"?set=set2&size=180x180")}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("h5",{children:[e.name,Object(s.jsx)("span",{children:" (".concat(e.type,")")})]}),Object(s.jsx)("h6",{children:e.email})]})]},t)}))]})});var p=function(e){var t=e.navItems,n=e.clicked,c=e.handleNotif,o=e.recentNotif,r=e.deleteHandler,i=e.toggleMode,l=e.mode,d=Object(a.useState)("Monsters"),u=Object(v.a)(d,2),h=u[0],j=u[1],f=Object(b.f)();"/Favourites"!==f.pathname&&"Monsters"!==h&&j("Monsters"),"/Favourites"===f.pathname&&"Favourites"!==h&&j("Favourites");var p="light"===l?"nav-bar":"nav-bar dark";return Object(s.jsxs)("div",{className:p,children:[t.map((function(e,t){return Object(s.jsx)(m.b,{className:h===e?"active":null,to:"/".concat(e),onClick:function(){n(t),j(e)},children:e},t)})),Object(s.jsx)("i",{"data-notifs-count":o.length,className:"".concat(o.length?"fas":"far"," fa-bell"),onClick:function(e){c(e.target.classList.contains("fa-bell"))},children:Object(s.jsx)(O,{deleteHandler:r,mode:l})}),Object(s.jsxs)("div",{className:"toggle-mode",children:[Object(s.jsx)("i",{className:"".concat("light"===l?"far fa-sun":"fas fa-moon"," mode"),onClick:i}),Object(s.jsx)("span",{className:"toggle",children:"light"===l?"Light Mode":"Dark Mode"})]})]})},x=(n(40),function(e){var t=e.closeFull,n=e.clickedImg;return Object(s.jsx)("div",{className:"show-full",onClick:t,children:Object(s.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(n,"?set=set2&size=180x180")})})}),g=(n(41),function(e){var t=e.clicked,n=e.isFav,c=e.monster,o=c.id,r=c.name,i=c.email,l=Object(a.useContext)(C);console.log(l);var d=Object(a.useState)(n),u=Object(v.a)(d,2),h=u[0],j=u[1],f="light"===l?"card-container":"card-container dark-card";return Object(s.jsxs)("div",{className:f,onClick:function(e){return t(e,o)},children:[Object(s.jsx)("i",{className:h?"fas fa-bookmark":"far fa-bookmark",style:h?{top:"-10px",transition:"top 0.15s ease-in"}:null,onClick:function(){j((function(e){return!e}))}}),Object(s.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(o,"?set=set2&size=180x180")}),Object(s.jsx)("h2",{className:r.length<18?"padding-added":null,children:r}),Object(s.jsx)("p",{children:i})]})}),k=(n(42),function(e){var t=e.monster,n=Object.entries(t).filter((function(e){return"username"!==e[0]&&"string"===typeof e[1]}));return Object(s.jsxs)("div",{className:"full-card-container",children:[Object(s.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(t.id,"?set=set2&size=180x180")}),Object(s.jsx)("div",{className:"infos",children:n.map((function(e,t){return Object(s.jsxs)("h3",{children:[e[0],Object(s.jsx)("span",{children:e[1]})]},t)}))})]})}),N=(n(43),function(e){var t=e.myFav,n=e.monsters,c=e.clicked,o=Object(a.useState)(0),r=Object(v.a)(o,2),i=r[0],l=r[1],d=n.filter((function(e){return e.id===i})),u=Object(b.f)();return"/Favourites"===u.pathname&&t.length||"/Favourites"!==u.pathname?Object(s.jsx)("div",{className:"card-list",children:i?[Object(s.jsx)("h2",{className:"close",onClick:function(){return l(0)},children:"X"},"h1"),Object(s.jsx)(k,{monster:d[0]},"card")]:n.map((function(e){return Object(s.jsx)(g,{clicked:function(e,t){c(e,t),"IMG"===e.target.tagName||e.target.className.includes("fa-bookmark")||l(t)},monster:e,isFav:t.includes(e.id)},e.id)}))}):Object(s.jsx)("p",{children:"No Monsters Added to Favourites!"})}),w=(n(44),function(e){var t=e.placeholder,n=e.handleChange;return Object(s.jsx)("input",{className:"search",type:"search",placeholder:t,onChange:n})});n(45);var S=function(e){var t=e.selected;return Object(s.jsxs)("div",{className:"dropdown",children:[Object(s.jsx)("span",{className:"sort",children:"Sort by"}),Object(s.jsx)("span",{children:Object(s.jsxs)("select",{onChange:function(e){t(e.target.value)},name:"sorted",children:[Object(s.jsx)("option",{value:"default",children:"Default"}),Object(s.jsx)("option",{value:"a-z",children:"A-Z"}),Object(s.jsx)("option",{value:"z-a",children:"Z-A"})]})})]})},F=(n(46),c.a.createContext({added:[],showDrop:!1})),C=c.a.createContext(""),y=function(e){Object(j.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({searchField:t.target.value})},e.cardClickHandler=function(t,n){"IMG"===t.target.tagName?e.setState({showFull:!0,clickedImg:n}):t.target.className.includes("fa-bookmark")&&(e.setState((function(e){return e.recent.push(n)})),e.state.favourites.includes(n)?(e.setState((function(e){return e.favourites.splice(e.favourites.findIndex((function(e){return e===n})),1)}),(function(){return window.localStorage.setItem("favs","[".concat(e.state.favourites,"]")),e.state.favourites.length?null:e.setState({showFavs:!1})})),e.setState((function(e){return e.notifications.push({id:n,type:"removed"})}))):(e.setState((function(e){return e.favourites.push(n)}),(function(){window.localStorage.setItem("favs","[".concat(e.state.favourites,"]"))})),e.setState((function(e){return e.notifications.push({id:n,type:"added"})}))))},e.closeFull=function(){e.setState({showFull:!1})},e.navItemHandler=function(t){e.setState({showFavs:!!t})},e.handleSelected=function(t){e.setState({sortBy:t})},e.handleNotif=function(t){e.setState({recent:[]}),t&&e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{showDrop:!e.showDrop})}))},e.handleDelete=function(){e.setState({notifications:[]})},e.toggleMode=function(){e.setState({mode:"light"===e.state.mode?"dark":"light"})},e.state={monsters:[],searchField:"",showFull:!1,clickedImg:0,favourites:JSON.parse(window.localStorage.getItem("favs"))||[],showFavs:!1,sortBy:"default",notifications:[],recent:[],showDrop:!1,mode:"light"},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(){e.state.showDrop&&e.setState({showDrop:!1})})),document.querySelector(".App").onclick=function(t){t.target.closest(".fa-bell")||e.setState({showDrop:!1})},fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({monsters:t})}))}},{key:"render",value:function(){var e=this,t=Object(l.a)(this.state.monsters),n=this.state,a=n.showFavs,c=n.searchField,o=n.favourites,r=n.sortBy,u=n.notifications,h=n.recent,j=n.showDrop,f=n.clickedImg,v=n.mode;switch(r){case"a-z":t=t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));break;case"z-a":t=t.sort((function(e,t){return t.name>e.name?1:e.name>t.name?-1:0}));break;default:t=this.state.monsters}var O=u.reduce((function(e,n){var s,a=Object(i.a)(t);try{for(a.s();!(s=a.n()).done;){var c=s.value;c.id===n.id&&e.unshift(Object(d.a)(Object(d.a)({},c),{},{type:n.type}))}}catch(o){a.e(o)}finally{a.f()}return e}),[]),g=t.filter((function(e){return o.includes(e.id)})),y=(a?g:t).filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})),M="light"===v?"App":"App app-dark";return Object(s.jsx)("div",{className:M,children:Object(s.jsxs)(m.a,{children:[this.state.showFull&&Object(s.jsx)(x,{closeFull:this.closeFull,clickedImg:f}),Object(s.jsx)(F.Provider,{value:{added:O,showDrop:j},children:Object(s.jsx)(p,{navItems:["Monsters","Favourites"],clicked:function(t){return e.navItemHandler(t)},handleNotif:function(t){return e.handleNotif(t)},recentNotif:h,deleteHandler:this.handleDelete,mode:v,toggleMode:this.toggleMode})}),Object(s.jsx)("h1",{children:"Monster Rolodex"}),Object(s.jsx)(w,{placeholder:"Search Monster",handleChange:this.handleChange}),Object(s.jsx)(S,{selected:function(t){return e.handleSelected(t)}}),Object(s.jsxs)(b.c,{children:[Object(s.jsx)(b.a,{path:"/Monsters/:id",children:Object(s.jsx)(k,{monster:t})}),Object(s.jsx)(b.a,{path:"/Favourites",children:Object(s.jsx)(C.Provider,{value:v,children:Object(s.jsx)(N,{clicked:function(t,n){return e.cardClickHandler(t,n)},monsters:g,myFav:o})})}),Object(s.jsx)(b.a,{path:"/",children:y.length>0?Object(s.jsx)(C.Provider,{value:v,children:Object(s.jsx)(N,{clicked:function(t,n){return e.cardClickHandler(t,n)},monsters:y,myFav:o})}):Object(s.jsx)("p",{className:"error",children:"Username Doesn't Exist"})})]})]})})}}]),n}(a.Component);r.a.render(Object(s.jsx)(y,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.d6075d9e.chunk.js.map