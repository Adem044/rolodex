(this.webpackJsonprolodex=this.webpackJsonprolodex||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),o=n(22),s=n.n(o),i=(n(42),n(29)),l=n(19),u=n(14),d=n(30),f=n(31),j=n(36),h=n(35),b=n(12),m=n(2),O=n(6),p=n(9),v=n(7),x=(n(43),n(11));n(44);function g(){var e=Object(O.a)(["\n  background-color: ",";\n"]);return g=function(){return e},e}var k=function(e){var t=e.deleteHandler,n=e.mode,a=Object(r.useContext)(X),o="light"===n?"notifications":"notifications dark-notifications";return Object(c.jsxs)("div",{className:o,hidden:!a.showDrop,children:[Object(c.jsxs)("h4",{children:["Notifications ",Object(c.jsx)("span",{children:a.added.length}),Object(c.jsx)("span",{className:"delete-all",onClick:t,children:"X"})]}),a.added.map((function(e,t){return Object(c.jsxs)(y,{className:"notif",type:e.type,children:[Object(c.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(e.id,"?set=set2&size=180x180")}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h5",{children:[e.name,Object(c.jsx)("span",{children:" (".concat(e.type,")")})]}),Object(c.jsx)("h6",{children:e.email})]})]},t)}))]})},y=v.b.div(g(),(function(e){return"removed"===e.type?"tomato":"rgba(179, 202, 145, 0.787)"}));function N(){var e=Object(O.a)(["\n  &::after {\n    display: ",";\n  }\n"]);return N=function(){return e},e}var S=function(e){var t=e.navItems,n=e.clicked,a=e.handleNotif,o=e.recentNotif,s=e.deleteHandler,i=e.toggleMode,l=e.mode,u=Object(r.useState)("Monsters"),d=Object(p.a)(u,2),f=d[0],j=d[1],h=Object(m.f)();"/Favourites"!==h.pathname&&"Monsters"!==f&&j("Monsters"),"/Favourites"===h.pathname&&"Favourites"!==f&&j("Favourites");var O="light"===l?"nav-bar":"nav-bar dark";return Object(c.jsxs)("div",{className:O,children:[Object(c.jsx)(x.Trail,{items:t,from:{opacity:0,fontSize:"20px"},to:{opacity:1,fontSize:"25px"},config:{delay:500},children:function(e,t){return function(r){return Object(c.jsx)(b.b,{className:f===e?"active":null,style:r,to:"/".concat(e),onClick:function(){n(t),j(e)},children:e},t)}}}),Object(c.jsx)(w,{"data-notifs-count":o.length,className:"".concat(o.length?"fas":"far"," fa-bell"),onClick:function(e){a(e.target.classList.contains("fa-bell"))},children:Object(c.jsx)(k,{deleteHandler:s,mode:l})}),Object(c.jsxs)("div",{className:"toggle-mode",children:[Object(c.jsx)("i",{className:"".concat("light"===l?"far fa-sun":"fas fa-moon"," mode"),onClick:i}),Object(c.jsx)("span",{className:"toggle",children:"light"===l?"Light Mode":"Dark Mode"})]})]})},w=v.b.i(N(),(function(e){return e["data-notifs-count"]?"inline-block":"none"})),F=(n(66),function(e){var t=e.closeFull,n=e.clickedImg;return Object(c.jsx)("div",{className:"show-full",onClick:t,children:Object(c.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(n,"?set=set2&size=180x180")})})});n(67);function C(){var e=Object(O.a)(["\n      background-color: rgb(110, 110, 110);\n      border: 1px solid #95dada;\n    "]);return C=function(){return e},e}function D(){var e=Object(O.a)(["\n  ","\n"]);return D=function(){return e},e}function M(){var e=Object(O.a)(["\n  padding: ",";\n"]);return M=function(){return e},e}function I(){var e=Object(O.a)(["\n      top: -10px !important;\n      transition: top 0.15s ease-in !important;\n    "]);return I=function(){return e},e}function z(){var e=Object(O.a)(["\n  ","\n"]);return z=function(){return e},e}var H=function(e){var t=e.clicked,n=e.isFav,a=e.monster,o=a.id,s=a.name,i=a.email,l=Object(r.useRef)(null),u=Object(r.useContext)(Z),d=Object(r.useState)(n),f=Object(p.a)(d,2),j=f[0],h=f[1];return Object(c.jsx)(x.Spring,{from:{opacity:0},to:{opacity:1},config:{duration:500},children:function(e){return Object(c.jsxs)(P,{style:e,mode:u,className:"card-container",onClick:function(e){return t(e,o)},children:[Object(c.jsx)(R,{className:j?"fas fa-bookmark":"far fa-bookmark",fav:j,onClick:function(){h((function(e){return!e}))}}),Object(c.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(o,"?set=set2&size=180x180")}),Object(c.jsx)(A,{addPadding:s.length<18,children:s}),Object(c.jsx)("p",{ref:l,children:i})]})}})},R=v.b.i(z(),(function(e){return e.fav&&Object(v.a)(I())})),A=v.b.h2(M(),(function(e){return e.addPadding&&"0 27px"})),P=v.b.div(D(),(function(e){return"light"!==e.mode&&Object(v.a)(C())})),E=(n(68),function(e){var t=e.monster,n=Object(m.g)().id,a=Object(r.useState)(null),o=Object(p.a)(a,2),s=o[0],i=o[1];Object(r.useEffect)((function(){n&&fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return i(e.find((function(e){return e.id===Number(n)})))}))}),[n]);var l=Object.entries(n&&s?s:t).filter((function(e){return"username"!==e[0]&&"string"===typeof e[1]}));return Object(c.jsx)(x.Spring,{from:{background:"#95dada",borderRadius:"2%"},to:{background:"thistle",borderRadius:"5%"},config:function(e){return"background"===e?x.config.slow:{duration:500}},children:function(e){return Object(c.jsxs)("div",{style:e,className:"full-card-container",children:[Object(c.jsx)("img",{alt:"monster",src:"https://robohash.org/".concat(n&&s?s.id:t.id,"?set=set2&size=180x180")}),Object(c.jsx)("div",{className:"infos",children:l.map((function(e,t){return Object(c.jsxs)("h3",{children:[e[0],Object(c.jsx)("span",{children:e[1]})]},t)}))})]})}})}),L=(n(69),function(e){var t=e.myFav,n=e.monsters,a=e.clicked,o=Object(r.useState)(0),s=Object(p.a)(o,2),i=s[0],l=s[1],u=n.find((function(e){return e.id===i})),d=Object(m.f)();return"/Favourites"===d.pathname&&t.length||"/Favourites"!==d.pathname?Object(c.jsx)("div",{className:"card-list",children:i?[Object(c.jsx)("h2",{className:"close",onClick:function(){return l(0)},children:"X"},"h1"),Object(c.jsx)(E,{monster:u},"card")]:n.map((function(e){return Object(c.jsx)(H,{clicked:function(e,t){a(e,t),"IMG"===e.target.tagName||e.target.className.includes("fa-bookmark")||l(t)},monster:e,isFav:t.includes(e.id)},e.id)}))}):Object(c.jsx)("p",{children:"No Monsters Added to Favourites!"})}),B=(n(70),function(e){var t=e.placeholder,n=e.handleChange;return Object(c.jsx)("input",{className:"search",type:"search",placeholder:t,onChange:n})});n(71);var U=function(e){var t=e.selected;return Object(c.jsxs)("div",{className:"dropdown",children:[Object(c.jsx)("span",{className:"sort",children:"Sort by"}),Object(c.jsx)("span",{children:Object(c.jsxs)("select",{onChange:function(e){t(e.target.value)},name:"sorted",children:[Object(c.jsx)("option",{value:"default",children:"Default"}),Object(c.jsx)("option",{value:"a-z",children:"A-Z"}),Object(c.jsx)("option",{value:"z-a",children:"Z-A"})]})})]})};n(72);function J(){var e=Object(O.a)(["\n  position: fixed;\n  z-index: 100;\n  bottom: 20px;\n  right: 20px;\n  background-color: greenyellow;\n  border: 1px solid grey;\n  padding: 5px;\n  h4 {\n    margin: 0;\n  }\n"]);return J=function(){return e},e}var T=function(e){var t=e.showPopUp,n=Object(r.useState)(!1),a=Object(p.a)(n,2),o=a[0],s=a[1],i=Object(r.useRef)(t);return Object(r.useEffect)((function(){var e=null;return i.current<t?(s(!0),e=setTimeout((function(){s(!1)}),1250)):s(!1),i.current=t,function(){return clearTimeout(e)}}),[t]),o&&Object(c.jsx)(G,{children:Object(c.jsx)("h4",{children:"Added to favourites"})})},G=v.b.div(J()),X=a.a.createContext({added:[],showDrop:!1}),Z=a.a.createContext(""),q=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({searchField:t.target.value})},e.cardClickHandler=function(t,n){"IMG"===t.target.tagName?e.setState({showFull:!0,clickedImg:n}):t.target.className.includes("fa-bookmark")&&(e.setState((function(e){return{recent:[].concat(Object(u.a)(e.recent),[n])}})),e.state.favourites.includes(n)?(e.setState((function(e){return e.favourites.splice(e.favourites.findIndex((function(e){return e===n})),1)}),(function(){return e.state.favourites.length?null:e.setState({showFavs:!1})})),e.setState((function(e){return{notifications:[].concat(Object(u.a)(e.notifications),[{id:n,type:"removed"}])}}))):e.setState((function(e){return{favourites:[].concat(Object(u.a)(e.favourites),[n]),notifications:[].concat(Object(u.a)(e.notifications),[{id:n,type:"added"}])}})))},e.closeFull=function(){e.setState({showFull:!1})},e.navItemHandler=function(t){e.setState({showFavs:!!t})},e.handleSelected=function(t){e.setState({sortBy:t})},e.handleNotif=function(t){e.setState({recent:[]}),t&&e.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{showDrop:!e.showDrop})}))},e.handleDelete=function(){e.setState({notifications:[]})},e.toggleMode=function(){e.setState({mode:"light"===e.state.mode?"dark":"light"})},e.h1Ref=a.a.createRef(),e.state={monsters:[],searchField:"",showFull:!1,clickedImg:0,favourites:JSON.parse(window.localStorage.getItem("favs"))||[],showFavs:!1,sortBy:"default",notifications:[],recent:[],showDrop:!1,mode:"light"},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(){e.state.showDrop&&e.setState({showDrop:!1})})),document.querySelector(".App").onclick=function(t){t.target.closest(".fa-bell")||e.setState({showDrop:!1})},fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({monsters:t})}))}},{key:"componentDidUpdate",value:function(){window.localStorage.setItem("favs","[".concat(this.state.favourites,"]"))}},{key:"render",value:function(){var e=this,t=Object(u.a)(this.state.monsters),n=this.state,r=n.showFavs,a=n.searchField,o=n.favourites,s=n.sortBy,d=n.notifications,f=n.recent,j=n.showDrop,h=n.clickedImg,O=n.mode;switch(s){case"a-z":t=t.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}));break;case"z-a":t=t.sort((function(e,t){return t.name>e.name?1:e.name>t.name?-1:0}));break;default:t=this.state.monsters}var p=d.reduce((function(e,n){var c,r=Object(i.a)(t);try{for(r.s();!(c=r.n()).done;){var a=c.value;a.id===n.id&&e.unshift(Object(l.a)(Object(l.a)({},a),{},{type:n.type}))}}catch(o){r.e(o)}finally{r.f()}return e}),[]),v=t.filter((function(e){return o.includes(e.id)})),x=(r?v:t).filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})),g="light"===O?"App":"App app-dark";return Object(c.jsx)("div",{className:g,children:Object(c.jsxs)(b.a,{children:[this.state.showFull&&Object(c.jsx)(F,{closeFull:this.closeFull,clickedImg:h}),Object(c.jsx)(T,{showPopUp:o.length}),Object(c.jsx)(X.Provider,{value:{added:p,showDrop:j},children:Object(c.jsx)(S,{navItems:["Monsters","Favourites"],clicked:function(t){return e.navItemHandler(t)},handleNotif:function(t){return e.handleNotif(t)},recentNotif:f,deleteHandler:this.handleDelete,mode:O,toggleMode:this.toggleMode})}),Object(c.jsx)("h1",{ref:this.h1Ref,children:"Monster Rolodex"}),Object(c.jsx)(B,{placeholder:"Search Monster",handleChange:this.handleChange}),Object(c.jsx)(U,{selected:function(t){return e.handleSelected(t)}}),Object(c.jsxs)(m.c,{children:[Object(c.jsx)(m.a,{path:"/Monsters/:id",children:Object(c.jsx)(E,{monster:t})}),Object(c.jsx)(m.a,{path:"/Favourites",children:Object(c.jsx)(Z.Provider,{value:O,children:Object(c.jsx)(L,{clicked:function(t,n){return e.cardClickHandler(t,n)},monsters:v,myFav:o})})}),Object(c.jsx)(m.a,{path:"/",children:x.length>0?Object(c.jsx)(Z.Provider,{value:O,children:Object(c.jsx)(L,{clicked:function(t,n){return e.cardClickHandler(t,n)},monsters:x,myFav:o})}):Object(c.jsx)("p",{className:"error",children:"Username Doesn't Exist"})})]})]})})}}]),n}(r.Component);s.a.render(Object(c.jsx)(q,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.b535533e.chunk.js.map